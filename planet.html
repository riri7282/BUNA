<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Buna — Planet</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>

body {
  margin:0;
  background: radial-gradient(circle at top, #141816, #070808);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  font-family: Inter, sans-serif;
  color:#ece6d1;
  overflow:hidden;
}


/* ===== FULLSCREEN STARS ===== */
.stars, .stars2, .stars3 {
  position: fixed;
  top:0;
  left:0;
  width:200vw;
  height:200vh;
  z-index:1;
}

.stars::after {
  content:'';
  position:absolute;
  width:2px;
  height:2px;
  box-shadow:
  5vw 10vh #ece6d1,
  15vw 75vh #ace0d2,
  30vw 45vh #fff,
  45vw 20vh #6fa48f,
  70vw 60vh #ece6d1,
  85vw 80vh #bbdacf,
  60vw 10vh #ffffffaa,
  10vw 90vh #8fae9e,
  95vw 15vh #fff,
  25vw 35vh #dff5ed;
  animation: moveStars 80s linear infinite, twinkle 5s ease-in-out infinite alternate;
}

.stars2::after {
  content:'';
  position:absolute;
  width:2px;
  height:2px;
  box-shadow:
  8vw 20vh #fff,
  20vw 60vh #ace0d2,
  50vw 40vh #fff,
  72vw 30vh #6fa48f,
  82vw 75vh #ffffffbb;
  animation: moveStars 140s linear infinite, twinkle 4s ease-in-out infinite alternate;
}

.stars3::after {
  content:'';
  position:absolute;
  width:2px;
  height:2px;
  box-shadow:
  10vw 15vh #eee,
  60vw 8vh #7da28f,
  90vw 90vh #fff;
  animation: moveStars 200s linear infinite, twinkle 8s ease-in-out infinite alternate;
}

@keyframes moveStars {
  from { transform: translateY(0px);}
  to { transform: translateY(-120vh);}
}

@keyframes twinkle {
  0%{opacity:.2}
  100%{opacity:1}
}

/* ===== MAIN SCREEN ===== */

.screen {
  width:360px;
  height:640px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:center;
  padding:30px 20px;
  box-sizing:border-box;
  text-align:center;
  position:relative;
  z-index:10;
}

/* ===== PLANET ===== */

.planet-wrap {
  width:260px;
  height:260px;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

.planet {
  width:120px;
  height:120px;
  border-radius:50%;
  background:
  radial-gradient(circle at 40% 40%, #6fa48f, #1f2f28 60%, #000),
  radial-gradient(circle at 70% 80%, rgba(236,230,209,0.2), transparent);
  animation: breathe 4s infinite ease-in-out;
  transition: transform 3s ease, box-shadow 2s ease, background 2s ease;
}

/* ENERGY RING */
.ring {
  position:absolute;
  width:200px;
  height:200px;
  border:1px solid rgba(236,230,209,0.15);
  border-radius:50%;
  animation: spin 20s linear infinite;
}

.ring:nth-child(2){
  width:260px;
  height:260px;
  animation-duration: 40s;
  opacity:.2;
}

@keyframes breathe {
  0%{ box-shadow:0 0 10px rgba(236,230,209,0.15);}
  50%{ box-shadow:0 0 70px rgba(236,230,209,0.4);}
  100%{ box-shadow:0 0 10px rgba(236,230,209,0.15);}
}

@keyframes spin{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* MOON */
.moon-orbit {
  position:absolute;
  width:240px;
  height:240px;
  animation: orbit 12s linear infinite;
}

.moon {
  width:14px;
  height:14px;
  border-radius:50%;
  background:#ece6d1;
  box-shadow:0 0 10px #ece6d1;
}

@keyframes orbit {
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* ===== BUTTON ===== */

button {
  background: transparent;
  border:1px solid #ece6d1;
  color:#ece6d1;
  padding:18px 36px;
  border-radius:40px;
  font-size:11px;
  letter-spacing:0.3em;
  display:none;
  cursor:pointer;
  transition:.4s;
}

button:hover{
  background:#ece6d1;
  color:#0d0f0e;
}

/* ===== TEXT ===== */

h2{
  letter-spacing:0.3em;
  font-size:14px;
}

p{
  font-size:12px;
  opacity:.9;
  margin-top:8px;
}

</style>
</head>
<body>

</div>

<div class="stars3"></div>

<div class="screen">

  <div>
    <h2>BUNA — PLANET</h2>
    <p id="msg">The planet is growing…</p>
  </div>

  <div class="planet-wrap">

    <div class="ring"></div>
    <div class="ring"></div>

    <div class="moon-orbit">
      <div class="moon"></div>
    </div>

    <div class="planet" id="planet"></div>

  </div>

  <button id="readyBtn" onclick="startBrew()">READY FOR BUNA TIME</button>

</div>

<script>

const myNum = sessionStorage.getItem("bunaUserNumber");
const chosen = sessionStorage.getItem("bunaChosen");
const planet = document.getElementById("planet");
const msg = document.getElementById("msg");
const readyBtn = document.getElementById("readyBtn");

let size = 120;

/* ========= PLANET GROW ========= */
const grow = setInterval(()=>{
  size += 10;
  planet.style.transform = `scale(${size/120})`;

  if(size > 240){
    clearInterval(grow);

    if(myNum === chosen){
      msg.innerText = "You are the brewer. The moment is yours.";
      readyBtn.style.display = "block";

      planet.style.background = `
      radial-gradient(circle at 30% 30%, #ece6d1, #8fc2ad 40%, #10201a 70%)
      `;

      planet.style.boxShadow = "0 0 90px rgba(236,230,209,0.6)";
    } else {
      msg.innerText = "Waiting for the brewer to begin…";
      setInterval(checkStart,1000);
    }
  }
},2000);

/* ========= BUTTON ========= */
function startBrew(){
  sessionStorage.setItem("bunaBrewStarted","true");
  sessionStorage.setItem("bunaBrewer", sessionStorage.getItem("bunaName"));
  window.location.href = "status.html";
}

function checkStart(){
  if(sessionStorage.getItem("bunaBrewStarted")==="true"){
    window.location.href = "status.html";
  }
}

</script>

</body>
</html>
